var app=new Vue({el:"#content",data:{senha:null,confirmSenha:null,user:usuario,cidades:null},methods:{salvarUsuario:function(a){this.user.nome_usuario?$.post("_utils/ajax_perfil.php",{acao:"up_slug",slug:this.user.slug_usuario,id:$("#id_usuario_logado").val()},function(a){1==a||1==a?(alert("Nome de usuário atualizado com sucesso!"),location.reload()):alert("Nome de usuário já existe!")}):($(".basic-msg").text('O campo "Nome de usuário" não pode estar vazio!'),$(".basic-msg").hasClass("d-none")&&($(".basic-msg").addClass("text-danger"),$(".basic-msg").removeClass("d-none"))),a.preventDefault()},salvarNome:function(a){if(this.user.nome_usuario){var o=this.user.nome_usuario.split(" ");$("#nomeSimplesLogged").text(o[0]+" "+o[o.length-1]),$("#navbar-username").text(o[0]),$.post("_utils/ajax_perfil.php",{acao:"up_generico",campo:"des_nome",valor:this.user.nome_usuario,id:$("#id_usuario_logado").val()},function(a){}),alert("Nome atualizado com sucesso!")}else alert('O campo "Nome Completo" não pode estar vazio!');a.preventDefault()},salvarEmail:function(a){this.user.email_usuario?($("#emailLogged").text(this.user.email_usuario),$.post("_utils/ajax_perfil.php",{acao:"up_email",email:this.user.email_usuario,id:$("#id_usuario_logado").val()},function(a){0==a?alert("Email inválido ou já cadastrado!"):alert("Email atualizado com sucesso!")})):alert('O campo "Email" não pode estar vazio!'),a.preventDefault()},salvarOcupacao:function(a){$.post("_utils/ajax_perfil.php",{acao:"up_generico",campo:"des_ocupacao",valor:this.user.ocupacao_usuario,id:$("#id_usuario_logado").val()},function(a){}),alert("Ocupação atualizada com sucesso!"),a.preventDefault()},salvarCelular:function(a){$.post("_utils/ajax_perfil.php",{acao:"up_generico",campo:"des_telefone",valor:this.user.telefone_usuario,id:$("#id_usuario_logado").val()},function(a){}),alert("Número de celular atualizado com sucesso!"),a.preventDefault()},salvarCpf:function(a){$.post("_utils/ajax_perfil.php",{acao:"up_generico",campo:"des_cpf",valor:this.user.cpf_usuario,id:$("#id_usuario_logado").val()},function(a){}),alert("Número de CPF atualizado com sucesso!"),a.preventDefault()},salvarDtNasc:function(a){$.post("_utils/ajax_perfil.php",{acao:"up_generico",campo:"dt_nasc",valor:this.user.dtnasc_usuario,id:$("#id_usuario_logado").val()},function(a){}),alert("Data de nascimento atualizado com sucesso!"),a.preventDefault()},salvarSexo:function(a){$.post("_utils/ajax_perfil.php",{acao:"up_generico",campo:"des_sexo",valor:this.user.sexo_usuario.substr(0,1),id:$("#id_usuario_logado").val()},function(a){}),alert("Sexo atualizado com sucesso!"),a.preventDefault()},salvarCidade:function(a){$.post("_utils/ajax_perfil.php",{acao:"up_generico",campo:"id_cidade",valor:this.user.cidade_usuario,id:$("#id_usuario_logado").val()},function(a){alert(a)}),alert("Cidade atualizada com sucesso!"),a.preventDefault()},deletarConta:function(a){var o=$("#id_usuario_logado").val();confirm("Realmente deseja deletar sua conta?")&&$.post("_utils/ajax_perfil.php",{acao:"delete_user",id_usuario:o},function(a){window.location.href="home"})},salvarSenha:function(a){this.senha!=this.confirmSenha?alert("As senhas não são iguais!"):this.senha.length<8?alert("A senha deve conter no mínimo 8 digítos!"):($.post("_utils/ajax_perfil.php",{acao:"up_generico",campo:"des_senha",valor:this.senha,id:$("#id_usuario_logado").val()},function(a){}),this.senha=null,this.confirmSenha=null,alert("Senha atualizada com sucesso!")),a.preventDefault()}}});