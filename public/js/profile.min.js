$(document).ready(function(){function a(a){var e=$(".des_titulo_experiencia",$(a).parent().parent().parent().parent()),i=$(".des_descricao_experiencia",$(a).parent().parent().parent().parent()),o=$(".id_experiencia",$(a).parent().parent().parent().parent());$("#addExperienciaModal").modal(),$("#id_experiencia_modal").val(o.val()),$("#des_titulo_experiencia").val(e.text()),$("#des_descricao_experiencia").val(i.text())}function e(a){var e=$(".id_experiencia",$(a).parent().parent().parent().parent());confirm("Realmente deseja deletar esta Experiencia?")&&($(a).parent().parent().parent().parent().parent().remove(),$.post("_utils/ajax_perfil.php",{acao:"del_experiencia",id_experiencia:$(e).val()}))}function i(a){var e=$(".des_titulo_formacao",$(a).parent().parent().parent().parent()),i=$(".des_descricao_formacao",$(a).parent().parent().parent().parent()),o=$(".id_formacao",$(a).parent().parent().parent().parent());$("#addFormacaoModal").modal(),$("#id_formacao_modal").val(o.val()),$("#des_titulo_formacao").val(e.text()),$("#des_descricao_formacao").val(i.text())}function o(a){var e=$(".id_formacao",$(a).parent().parent().parent().parent());confirm("Realmente deseja deletar esta Formação?")&&($(a).parent().parent().parent().parent().parent().remove(),$.post("_utils/ajax_perfil.php",{acao:"del_formacao",id_formacao:$(e).val()}))}function t(a){var e=$(".des_categoria_servico",$(a).parent().parent().parent().parent()),i=$(".des_descricao_servico",$(a).parent().parent().parent().parent()),o=$(".des_preco_servico",$(a).parent().parent().parent().parent()),t=$(".des_modalidade_servico",$(a).parent().parent().parent().parent()),d=$(".des_disponibilidade_servico",$(a).parent().parent().parent().parent()),r=$(".id_servico",$(a).parent().parent().parent().parent());$("#addServicoModal").modal(),$("#des_categoria_servico").val(e.attr("id")),$("#des_descricao_servico").val(i.text()),$("#des_preco_servico").val(o.text()),$("#des_modalidade_servico").val(t.attr("id")),$("#des_disponibilidade_servico").val(d.text()),$("#id_servico_modal").val(r.val())}function d(a){var e=$(".id_servico",$(a).parent().parent().parent().parent());confirm("Realmente deseja deletar este Serviço?")&&($(a).parent().parent().parent().parent().remove(),$.post("_utils/ajax_perfil.php",{acao:"del_servico",id_servico:e.val()}))}$("#usrFotoView").click(function(a){$("#usrFoto").click(),a.preventDefault()}),$("#fotoMouseOn").click(function(a){$("#usrFoto").click(),a.preventDefault()}),$("#fotoMouseOn").mouseover(function(){$("#fotoMouseOn").css("display","block")}),$("#fotoMouseOn").mouseout(function(){$("#fotoMouseOn").css("display","none")}),$("#usrFotoView").mouseover(function(){$("#fotoMouseOn").css("display","block")}),$("#usrFoto").change(function(){$("#form-usrFoto").submit()}),$("#form-usrFoto").submit(function(a){if(""!=$("#usrFoto").val()){var e;(e=new FormData).append("usrFoto",event.target.files[0]),$.ajax({url:"_utils/ajax_perfil.php",data:e,processData:!1,contentType:!1,type:"POST",success:function(a){$(".img-nav-dropdown").attr("src","img/profile/"+a),$("#usrFotoView").attr("src","img/profile/"+a),$(".img-nav-profile").attr("src","img/profile/"+a)}})}a.preventDefault()}),$("#addExperienciaModal").on("show.bs.modal",function(a){$("#id_experiencia_modal").val(""),$("#des_titulo_experiencia").val(""),$("#des_descricao_experiencia").val("")}),$("#btn-addExperiencia").click(function(){if(""!=$("#id_experiencia_modal").val()){var i=$("#des_titulo_experiencia"),o=$("#des_descricao_experiencia"),t=$("#id_experiencia_modal");$.post("_utils/ajax_perfil.php",{acao:"up_experiencia",id_usuario:$("#id_usuario").val(),des_titulo:$(i).val(),des_descricao:$(o).val(),id_experiencia:$(t).val()},function(a){$(".id_experiencia").each(function(a){if($(this).val()==t.val()){var e=$(this);$(".des_titulo_experiencia",$(e).parent()).text(i.val()),$(".des_descricao_experiencia",$(e).parent()).text(o.val())}}),$("#addExperienciaModal").modal("hide")})}else{var d=$("#id_usuario_logado").val(),r=$("#des_titulo_experiencia").val(),s=$("#des_descricao_experiencia").val();$.post("_utils/ajax_perfil.php",{acao:"ad_experiencia",id_usuario:d,titulo:r,descr:s},function(i){$("#experiencias-itens").prepend('<div class="col-12" style="margin-top:15px;margin-bottom:5px"><div class="clearfix"><input type="text" class="id_experiencia" value="'+i+'" style="display:none"><div class="row clearfix"><p class="des_titulo_experiencia col-11" style="width:auto; margin-left:-5px;font-weight:400; padding-right:25px;font-size:17px;margin-bottom:0px">'+r+'</p><div class="btn-group col-1"><button type="button" class="btn btn-link dropdown-toggle" style="color:#5b5656" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button><div class="dropdown-menu dropdown-menu-right"><button class="btn-editExperiencia dropdown-item" type="button" style="cursor:pointer">Editar</button><button class="btn-delExperiencia text-danger dropdown-item" type="button" style="cursor:pointer">Deletar</button></div></div></div><p class="col-12 desc des_descricao_experiencia" style="margin-left:-10px;margin-right:-10px; padding-left:5px;padding-bottom:1px;padding-top:1px;font-weight:300;font-size:16px;color:#a0a5b5">'+s+'</p></div><hr style="margin-left:-15px;margin-right:-15px"></div>'),$(".btn-editExperiencia").click(function(){a(this)}),$(".btn-delExperiencia").click(function(){e(this)}),$("#addExperienciaModal").modal("hide")})}}),$("#addFormacaoModal").on("show.bs.modal",function(a){$("#id_formacao_modal").val(""),$("#des_titulo_formacao").val(""),$("#des_descricao_formacao").val("")}),$("#btn-addFormacao").click(function(){if(""!=$("#id_formacao_modal").val()){var a=$("#des_titulo_formacao"),e=$("#des_descricao_formacao"),t=$("#id_formacao_modal");$.post("_utils/ajax_perfil.php",{acao:"up_formacao",id_usuario:$("#id_usuario").val(),des_titulo:$(a).val(),des_descricao:$(e).val(),id_formacao:$(t).val()},function(i){$(".id_formacao").each(function(i){if($(this).val()==t.val()){var o=$(this);$(".des_titulo_formacao",$(o).parent()).text(a.val()),$(".des_descricao_formacao",$(o).parent()).text(e.val())}}),$("#addFormacaoModal").modal("hide")})}else{var d=$("#id_usuario_logado").val(),r=$("#des_titulo_formacao").val(),s=$("#des_descricao_formacao").val();$.post("_utils/ajax_perfil.php",{acao:"ad_formacao",id_usuario:d,titulo:r,descr:s},function(a){$("#formacoes-itens").prepend('<div class="col-12"><div class="clearfix"><input type="text" class="id_formacao" value="'+a+'" style="display:none"><div class="row clearfix"><p class="des_titulo_formacao col-11" style="width:auto;margin-left:-5px;font-weight:400;font-size:17px;margin-bottom:0px;">'+r+'</p><div class="btn-group col-1"><button type="button" class="btn btn-link dropdown-toggle" style="color:#5b5656" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button><div class="dropdown-menu dropdown-menu-right"><button class="btn-editFormacao dropdown-item" type="button" style="cursor:pointer">Editar</button><button class="btn-delFormacao text-danger dropdown-item" type="button" style="cursor:pointer">Deletar</button></div></div></div><p class="desc des_descricao_formacao" id="des_apresentacao" style="margin-left:-5px;margin-right:-10px;margin-top:0px;font-weight:300;color:#a0a5b5">'+s+'</p></div><hr style="margin-left:-15px;margin-right:-15px"></div>'),$(".btn-editFormacao").click(function(){i(this)}),$(".btn-delFormacao").click(function(){o(this)}),$("#addFormacaoModal").modal("hide")})}}),$("#addServicoModal").on("show.bs.modal",function(a){$("#des_descricao_servico").val(""),$("#des_preco_servico").val(""),$("#des_disponibilidade_servico").val(""),$("#id_servico_modal").val("")}),$("#btn-addServico").click(function(){if(""!=$("#id_servico_modal").val()&&void 0!=$("#id_servico_modal").val()){var a=$("#des_categoria_servico"),e=$("#des_descricao_servico"),i=$("#des_preco_servico"),o=$("#des_modalidade_servico"),r=$("#des_disponibilidade_servico"),s=$("#id_servico_modal");$.post("_utils/ajax_perfil.php",{acao:"up_servico",id_anuncio:$(s).val(),id_categoria:$(a).val(),des_descricao:$(e).val(),des_preco:$(i).val(),id_modalidade:$(o).val(),des_disponibilidade:$(r).val()},function(a){var o=$("#des_categoria_servico option:selected"),t=$("#des_modalidade_servico option:selected");$(".id_servico").each(function(a){if($(this).val()==s.val()){var d=$(this);$(".des_categoria_servico",$(d).parent()).text(o.text()),$(".des_categoria_servico",$(d).parent()).attr("id",o.val()),$(".des_descricao_servico",$(d).parent()).text(e.val()),$(".des_preco_servico",$(d).parent()).text(i.val()),$(".des_modalidade_servico",$(d).parent()).text(" "+t.text()),$(".des_modalidade_servico",$(d).parent()).attr("id",t.val()),$(".des_disponibilidade_servico",$(d).parent()).text(r.val())}}),$("#addServicoModal").modal("hide")})}else{var a=$("#des_categoria_servico"),e=$("#des_descricao_servico"),i=$("#des_preco_servico"),o=$("#des_modalidade_servico"),r=$("#des_disponibilidade_servico"),n=$("#id_usuario");$.post("_utils/ajax_perfil.php",{acao:"add_servico",id_usuario:$(n).val(),id_categoria:$(a).val(),des_descricao:$(e).val(),des_preco:$(i).val(),id_modalidade:$(o).val(),des_disponibilidade:$(r).val()},function(a){var o=$("#des_categoria_servico option:selected"),s=$("#des_modalidade_servico option:selected");$("#servicos-itens").append('<div class="col-12 clearfix" style="margin-bottom:5px"><input type="text" class="d-none id_servico" value="'+a+'"><div class="row clearfix"><p class="des_categoria_servico col-11" id="'+o.val()+'" style="width:auto; margin-left:-5px;font-weight:400; padding-right:25px;font-size:17px;margin-bottom:0px">'+o.text()+'</p><div class="btn-group col-1"><button type="button" class="btn btn-link dropdown-toggle" style="color:#5b5656" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button><div class="dropdown-menu dropdown-menu-right"><button class="btn-editServico dropdown-item" type="button" style="cursor:pointer">Editar</button><button class="btn-delServico text-danger dropdown-item" type="button" style="cursor:pointer">Deletar</button></div></div></div><p class="col-12 desc des_descricao_servico" style="margin-left:-10px;margin-right:-10px; padding-left:5px;padding-bottom:1px;padding-top:10px;font-weight:300;font-size:16px;">'+e.val()+'</p><p class="desc" style="margin-left:-5px">Preço: R$ <span class="des_preco_servico">'+i.val()+'</span><span class="des_modalidade_servico" id="<?php echo $modalidade->getIdModalidade(); ?>" style="margin-right:15px"> '+s.text()+'</span>Disponibilidade: <span class="des_disponibilidade_servico">'+r.val()+'</span></p><hr style="margin-left:-15px;margin-right:-15px"></div>'),$(".btn-editServico").click(function(){t(this)}),$(".btn-delServico").click(function(){d(this)}),$("#addServicoModal").modal("hide")})}}),$("#addHabilidadeModal").on("show.bs.modal",function(a){$("#des_habilidade_modal").val(1)}),$("#btn-addHabilidade").click(function(){var a=$("#des_habilidade_modal option:selected").text(),e=$("#des_habilidade_modal").val(),i=$("#id_usuario").val();$.post("_utils/ajax_perfil.php",{acao:"add_habilidade",id_usuario:i,id_habilidade:e},function(i){1==i||1==i?($("#habilidades-itens").append('<span id="'+e+'" class="skills-label">'+a+'<i class="fa fa-times-circle btn-delHabilidade" style="margin-left:10px;cursor:pointer"></i></span>'),$(".btn-delHabilidade").click(function(){var a=$("#id_usuario").val(),e=$(this).parent().attr("id");confirm("Realmente deseja deletar esta Habilidade?")&&($(this).parent().remove(),$.post("_utils/ajax_perfil.php",{acao:"del_habilidade",id_usuario:a,id_habilidade:e}))})):alert("Você já possui esta Habilidade!")}),$("#addHabilidadeModal").modal("hide")}),$(".btn-delHabilidade").click(function(){var a=$("#id_usuario").val(),e=$(this).parent().attr("id");confirm("Realmente deseja deletar esta Habilidade?")&&($(this).parent().remove(),$.post("_utils/ajax_perfil.php",{acao:"del_habilidade",id_usuario:a,id_habilidade:e}))}),$("#editApresentacaoModal").on("show.bs.modal",function(a){$("#des_apresentacao_modal").val($("#des_apresentacao").text())}),$("#btn-editApresentacao").click(function(){var a=$("#des_apresentacao_modal").val();$.post("_utils/ajax_perfil.php",{acao:"up_generico",campo:"des_apresentacao",valor:a,id:$("#id_usuario").val()},function(e){""!=a?$("#des_apresentacao").text(a):$("#des_apresentacao").text("Olá, eu sou novo aqui. :)"),$("#editApresentacaoModal").modal("hide")})}),$("#criar-conexao").click(function(){!function(a){$(a).hasClass("btn-fc-primary")?($("#msg-btnContato").text("Remover"),$(a).removeClass("btn-fc-primary"),$(a).addClass("btn-fc-danger"),$.post("_utils/ajax_perfil.php",{acao:"ad_conexao",id_usuario:$("#id_usuario_logado").val(),id_contato:$("#id_usuario").val()})):($("#msg-btnContato").text("Adicionar"),$(a).removeClass("btn-fc-danger"),$(a).addClass("btn-fc-primary"),$.post("_utils/ajax_perfil.php",{acao:"rem_conexao",id_usuario:$("#id_usuario_logado").val(),id_contato:$("#id_usuario").val()}))}(this)}),$(".btn-editExperiencia").click(function(){a(this)}),$(".btn-delExperiencia").click(function(){e(this)}),$(".btn-editFormacao").click(function(){i(this)}),$(".btn-delFormacao").click(function(){o(this)}),$(".btn-editServico").click(function(){t(this)}),$(".btn-delServico").click(function(){d(this)})});